# Практическое задание "Контроль целостности"
## Подготовленная виртуальная машина с Astra linux
Для выполнения данного задания был скачан образ Astra Linux и установлена версия системы "Смоленск" с максимальным уровнем защиты<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/22542e10-cff2-4dbb-bfe1-1ee971d5daf4)
## Настройка и проверка мандатного контроля целостности
Для измнения конфигурации МКЦ в ОС Astra Linux необходимо воспользоваться утилитой Управление политикой безопасности<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/a062a89e-26bb-4373-a154-c3aa2eb45980)
В меню Режим эксперта можно непосредственно назначить уровни целостности для директорий. В качестве проверки правила NWU я обозначил 2 тестовые директории с такими правами:<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/ac80b435-5f0e-425b-86ef-0db34014599b)
Для проверки мандатного контроля необходимо зайти в учетную запись с атрибутом целостности уровня "Низкий".<br />
Ниже представлен пример взаимодействия по записи между обеими папками<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/4324e6c0-97e6-40a9-a81b-f7c734910787)
Здесь можно увидеть, что копирование файла с атрибутом ниже в папку с атрибутом выше не сработало - была получена ошибка доступа. В то же время "запись вниз" работает.
## Работа с режимом замкнутой программной среды
Для проверки работы режима ЗПС в Управлении политикой безопасности необходимо включить данные настройки:<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/991ee9a5-2daa-4cab-8192-b6229341d3c1)<br />
В качестве тестового файла был взят скрипт инициализации Discord. Результат выполнения на скриншоте:<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/25b5e2ce-76d0-4ff0-94cc-1df029680576)
## Работа с утилитами контроля целостности и регламентного контроля целостности
### Использование `gostsum`
Утилита `gostsum` вычисляет хэш-сумму файлов в соответствии с ГОСТ Р 34.11-2012. Пример использования с .deb пакетом:<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/54e39eb0-efd0-4435-83bb-fc6778106f2a)
### Использование `afick`
`afick` - утилита, предназначенная для контроля целостности файловой системы ОС. Для корректной работы утилиты сначала создается БД утилиты:<br /><br />
![image](https://github.com/Z-xel/TOIB/assets/70752907/e08d3f59-7100-4a9d-823c-d1b0b60a4cb3)<br />
Далее изменим часть системных файлов для получения ответа от утилиты, перед этим сделав бэкап:<br /><br />
![изображение](https://github.com/kirasir1/toib_prak/assets/13931629/42844996-839a-4a3a-8b71-da86431ecc26)<br />
Получаем результат от утилиты:<br /><br />
![изображение](https://github.com/kirasir1/toib_prak/assets/13931629/e4572623-ba08-4c70-82ca-03635c309392)<br />


